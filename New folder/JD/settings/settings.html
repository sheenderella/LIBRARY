<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; style-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; font-src 'self' https://cdnjs.cloudflare.com;">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./settings.css">

    <title>GRUBA LAW LIBRARY</title>
</head>

<body>
    <div id="wrapper" class="d-flex">
        <!-- Sidebar -->
        <nav id="sidebar-wrapper" class="text-white">
            <div class="sidebar-header p-3 d-flex flex-column align-items-left">
                <button class="btn btn-outline-light btn-sm mb-3" id="sidebarCollapse" aria-label="Toggle Sidebar" data-bs-toggle="tooltip" title="Toggle Sidebar">
                    <i class="fas fa-bars" id="barIcon"></i>
                </button>
                <img src="../logo/2.png" alt="Gruba Law Library Logo" class="img-fluid mb-3">
            </div>
            
            <ul id="sidebar-menu" class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link text-white" href="../index.html" data-bs-toggle="tooltip" title="Go to Dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span class="link-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="../books/books.html" data-bs-toggle="tooltip" title="Manage Books">
                        <i class="fas fa-book"></i>
                        <span class="link-text">Books</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="../profiles/profiles.html" data-bs-toggle="tooltip" title="Manage Borrower Profiles">
                        <i class="fas fa-user"></i>
                        <span class="link-text">Borrower Profiles</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="../borrow/borrow.html" data-bs-toggle="tooltip" title="Manage Borrow Logs">
                        <i class="fas fa-table"></i>
                        <span class="link-text">Borrow Logs</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link text-white" href="../archive/archive.html" data-bs-toggle="tooltip" title="Go to Archive">
                        <i class="fas fa-archive"></i>
                        <span class="link-text">Archive</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link text-white" href="../settings/settings.html" data-bs-toggle="tooltip" title="Go to Settings">
                        <i class="fas fa-cog"></i>
                        <span class="link-text"> Settings</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" id="logout-link" href="#" data-bs-toggle="tooltip" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="link-text">Logout</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main id="page-content-wrapper" class="flex-grow-1 p-4">
            <div class="container mt-5">
                <div class="text-left mb-4">
                    <h1 class="text-settings"><i class="fas fa-cog"></i><b> Settings</b></h1>
                </div>

                <!-- Account Settings Collapse -->
                <div class="accordion mb-4" id="accountSettingsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <i class="fas fa-user-cog"></i> &nbsp; Account Settings
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accountSettingsAccordion">
                            <div class="accordion-body p-0">
                                <div class="d-flex flex-column align-items-start">
                                    <button class="btn btn-outline-primary w-100 text-start" id="change-username-button"><i class="fas fa-user"></i> &nbsp; Change Username</button>
                                    <button class="btn btn-outline-primary w-100 text-start" id="password-btn"><i class="fas fa-key"></i> &nbsp; Change Password</button>
                                    <button class="btn btn-outline-success w-100 text-start" id="open-security-setup"><i class="fas fa-shield-alt"></i> &nbsp; Add Security Question</button>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>

<!-- Database Management Collapse -->
<div class="accordion mb-4" id="databaseManagementAccordion">
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                <i class="fas fa-database"></i> &nbsp; Database Management
            </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#databaseManagementAccordion">
            <div class="accordion-body p-0">
                <div class="d-flex flex-column align-items-start">
                    <button class="btn btn-outline-warning w-100 text-start" id="backup-btn"><i class="fas fa-download"></i> &nbsp;  Backup Database</button>
                    <button class="btn btn-outline-danger w-100 text-start" id="restore-btn"><i class="fas fa-upload"></i>&nbsp;  Restore Database</button>
                    
                    <!-- New Export/Import Section -->
                    <button class="btn btn-outline-primary w-100 text-start" id="export-btn" data-bs-toggle="modal" data-bs-target="#exportModal"><i class="fas fa-file-export"></i> Export to Excel</button>
                    <button class="btn btn-outline-secondary w-100 text-start" id="import-btn" data-bs-toggle="modal" data-bs-target="#importModal"><i class="fas fa-file-import"></i> Import from Excel</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Export Modal -->
<div class="modal fade" id="exportModal" tabindex="-1" aria-labelledby="exportModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exportModalLabel">&nbsp; Export to Excel</h5>
<!-- Close Button with Font Awesome -->
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
    <i class="fas fa-times"></i> <!-- X Icon -->
</button>
            </div>
            <div class="modal-body">
                <h6>Select Data to Export:</h6>
                <button class="btn btn-primary w-100 mb-2" onclick="exportData('books')">Export Books</button>
                <button class="btn btn-primary w-100" onclick="exportData('borrowers')">Export Borrower Profiles</button>
            </div>
        </div>
    </div>
</div>

<!-- Import Modal -->
<div class="modal fade" id="importModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="importModalLabel">&nbsp; Import from Excel</h5>
<!-- Close Button with Font Awesome -->
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
    <i class="fas fa-times"></i> <!-- X Icon -->
</button>
            </div>
            <div class="modal-body">
                <h6>Select Data to Import:</h6>
                <button class="btn btn-secondary w-100 mb-2" onclick="importData('books')"> Import Books</button>
                <button class="btn btn-secondary w-100" onclick="importData('borrowers')"> Import Borrower Profiles</button>
            </div>
        </div>
    </div>
</div>

                <!-- Support & FAQs -->
                <div class="text-start mb-4">
                    <button class="btn btn-info w-100 text-start" id="support-btn"><i class="fas fa-question-circle"></i> &nbsp;Support & FAQs</button>
                </div>

            </div>
        </main>
    </div>

    <!-- Include Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script src="./settings.js"></script>

</body>

</html>
